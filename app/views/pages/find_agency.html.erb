<div class="container-fluid">
  <div class="row">
    <div class="col-md-6 col-lg-8">
      <div class="card mb-3">
        <div class="card-header">
          <h5 class="card-title">Search for an Agency</h5>
        </div>
        <div data-controller="places" data-action="maps-callback@window->places#initMap">
          <%= form_with(local: true) do |form| %>
            <div class="card-body">
              <div>
                <%= form.label :address, style: "display: block" %>
                <%= form.search_field :address, data: {
                  places_target: "field",
                  action: "keydown->places#keyDown"
                }, autofocus: true,
                   style: "width: 100%;" %>

                <%= form.hidden_field :latitude, data: {
                  places_target: "latitude"
                }, style: "width: 100%;" %>

                <%= form.hidden_field :longitude, data: {
                  places_target: "longitude"
                }, style: "width: 100%;" %>
              </div>
              <div data-places-target="map"
                   style="min-height:400px;min-width:400px;margin-top:20px;">
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-lg-4">
      <div class="card mb-3">
        <div class="card-header">
          <h5 class="card-title">Claim Your Agency</h5>
        </div>
        <div class="card-body">
          <p>Are you the owner of an agency that's already listed on our site?</p>
          <!-- HERE we have to pass the selected coordinates from the map. -->
          <%= link_to "Claim your agency", "", class: "btn btn-success" %>
        </div>
      </div>
    </div>
  </div>
</div>

</script>
